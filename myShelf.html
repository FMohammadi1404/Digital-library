<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
            content="width=device-width,
                    initial-scale=1.0">
        <title>Bootstrap5 Sidebar</title>
        <link href=
    "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" 
            rel="stylesheet"
            integrity=
    "sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" 
            crossorigin="anonymous">
        <link rel="stylesheet" 
            href="style.css">
        <link rel="stylesheet" href=
    "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
            integrity=
    "sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
            crossorigin="anonymous" 
            referrerpolicy="no-referrer" />

        <!-- chart js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

    </head>

    <body dir="rtl" style="font-family: b yekan;" onload = "nowDate()" onbeforeunload = "totalDurationTime()" onunload = "exitPage()">

        <div class="container-fluid p-0 d-flex" style="min-height: 100%;">
            <div id="bdSidebar" 
                class="d-flex flex-column 
                        flex-shrink-0 
                        p-0 bg-info
                        text-white offcanvas-md offcanvas-start">
                <a href="#" 
                class="navbar-brand">
                </a>

                <div style="background-color: rgb(255,255,255,1); max-width: 100%; margin: 0; padding: 5%;">
                    <center><img src="images/logo.png" style="max-width: 40%;"/></center>
                </div>

                <!-- <hr> -->
                <ul class="mynav nav nav-pills flex-column mb-auto mt-5"  style="font-size: 1.5rem; font-family: b yekan;">
                    <li class="nav-item mb-1">
                        <a href="home.html">
                            <i class="fa-solid fa-house"></i>
                            &nbsp صفحه اصلی
                        </a>
                    </li>

                    <li class="nav-item mb-1">
                        <a href="myShelf.html">
                            <i class="fa fa-book"></i>
                            &nbsp قفسه من
                        </a>
                    </li>

                    <li class="nav-item mb-1">
                        <a href="search.html">
                            <i class="fa fa-search"></i>
                            &nbsp جستجو
                        </a>
                    </li>

                </ul>
                <hr>
                <div class="d-flex">

                    <i class="fa-solid fa-book  me-2"></i>
                    <span>
                        <h6 class="me-2">
                            همه حقوق محفوظ است
                        </h6>
                    </span>
                </div>
            </div>

            <div class="bg-light flex-fill">
                <div class="p-4">
                    <nav style="--bs-breadcrumb-divider:'>';font-size:14px">
                        <ol class="breadcrumb" style="font-size: 1.1rem; font-family: b yekan;">
                            <li class="breadcrumb-item">
                                <i class="fa fa-book"></i>
                            </li>
                            &nbsp;
                            <li class="breadcrumb-item">قفسه من</li>
                        </ol>
                    </nav>

                    <div id = "parentWelcomeDiv" class = "d-flex justify-content-start">

                    </div>


                    <!-- منوی بالای صفحه -->
                     <!-- description: این منو به دلیل نمایش داده نشدن سایدبار سمت راست صفحه در حالت موبایل قرار داده شد -->
                     <nav class="navbar navbar-expand m-0 p-0">
                        <div class="container-fluid m-0 p-0">
                            <div class="collapse navbar-collapse justify-content-start m-0 p-0">
                                <ul class="navbar-nav m-0 p-0" style="font-size: 100%;">
                                    <li class="nav-item m-0 p-0">
                                        <a class="nav-link text-success" href="./home.html">صفحه اصلی</a>
                                    </li>
                                    <li class="nav-item m-0 p-0">
                                        <a class="nav-link text-danger" href="./myShelf.html">قفسه من</a>
                                    </li>
                                    <li class="nav-item m-0 p-0">
                                        <a class="nav-link text-warning" href="./search.html">جستجو</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>

                    <hr />

                    <br /><br />

                    <!-- description: ایجاد تگ دیو برای قرار دادن کتاب های در حال مطالعه در صفحه است -->
                    <div class="row m-3">
                        <div class="col card p-0" id="readingParent">
                            <h5 class="card-header text-white bg-success" style="font-family: b yekan; margin-bottom: 1%;">
                                کتاب های در حال مطالعه:
                            </h5>
                            <br />
                            <!-- descripption: اینجا محل نمایش کتاب های در حال مطالعه است -->
                        </div>                    
                    </div>  

                    <br />

                    <!-- description: ایجاد تگ دیو برای قرار دادن کتاب های خوانده شده در صفحه است -->
                    <div class="row m-3">
                        <div class="col card p-0"  id="readParent">
                            <h5 class="card-header text-white bg-secondary" style="font-family: b yekan; margin-bottom: 1%;">
                                کتاب های خوانده شده:
                            </h5>
                            <br />
                            <!-- descripption: اینجا محل نمایش کتاب های خوانده شده است -->
                        </div>                    
                    </div>

                    <br />

                    <!-- description: ایجاد تگ دیو برای قرار دادن کتاب های مورد علاقه در صفحه است -->
                    <div class="row m-3">
                        <div class="col card p-0"  id="favoriteParent">
                            <h5 class="card-header text-white bg-danger" style="font-family: b yekan; margin-bottom: 1%;">
                                کتاب های مورد علاقه:
                            </h5>
                            <br />
                            <!-- descripption: اینجا محل نمایش کتاب های مورد علاقه است -->
                        </div>                    
                    </div> 
                    


                    <div class="row m-3"></div>

                        <div class="col card p-0" id="" style="margin-left: 1rem; margin-right: 1rem;">

                            <h5 class="card-header text-white bg-info" style="font-family: b yekan; margin-bottom: 1%;">
                                چالش مطالعه:
                            </h5>

                            <div class="row card-body">
                                <div class="col-lg-5 col-md-12">
                                    <select name="bookChallenge" id="bookChallenge" class="form-select">

                                        <option value="00">نام کتاب را انتخاب کنید</option>  

                                    </select>
                                </div>
                                <div class="col-lg-5 col-md-12">
                                    <input type="text" class="form-control" placeholder="تعداد صفحه مطالعه در ماه" id="EnteredPurposeNumber">
                                </div>
                                <div class="col-lg-2 col-md-12">
                                    <button type = "button" id = "addToChallengeBtn" value = "addToChallenge" onclick="addToChallenge()" class="btn btn-primary">افزودن</button>
                                </div>
                            </div> 
                            <div class="row card-body p-0">
                                <div class="col"  id = "challengeParent">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- شروع کدهای جاوااسکریپت -->
        <script lang="javascript">        

            // description: کد زیر برای محاسبه زمان ماندگاری کاربر در سایت نوشته شده است
            let entryTime = 0;

            function nowDate() {
                entryTime = Date.now();  // زمان ورود
            };

            function totalDurationTime() {
                let exitTime = Date.now();  // زمان خروج
                let duration = exitTime - entryTime;  // زمان ماندگاری در صفحه
                
                // دریافت زمان‌های قبلی از لوکال استوریج (در صورت موجود بودن)
                let totalDuration = localStorage.getItem('totalDuration');
                totalDuration = totalDuration ? parseInt(totalDuration) : 0;
                
                // جمع کردن زمان فعلی با زمان‌های قبلی
                totalDuration += duration;

                // ذخیره مجموع زمان ماندگاری در لوکال استوریج
                localStorage.setItem('totalDuration', totalDuration);
                
            };
            let totalDuration = localStorage.getItem('totalDuration');
            console.log('Total time spent: ' + totalDuration / 1000 + ' seconds');
            // پایان کد محاسبه زمان ماندگاری کاربر در سایت

            
            /////////////////////////// 

            // description: درصورتیکه عنصر اول آرایه ی کاربر لاگین، خالی نباشد، کاربر را در صفحه ی باز شده نگهمیدارد و پیغام خوش آمدگویی نمایش می دهد
            var loginUser = JSON.parse(localStorage.getItem('globalLoginUser'));
            const parentWelcomeMessage = document.getElementById("parentWelcomeDiv");
            if(loginUser[0] != null){ //اگر آرایه لاگین یوزر خالی نبود
                //نمایش متن خوش آمدگویی به کاربر وارد شده در بالای صفحه
                const welcomeMessage = document.createElement('p');
                welcomeMessage.innerHTML = loginUser[0].username + " عزیز، خوش آمدید...";
                parentWelcomeMessage.appendChild(welcomeMessage);
            }
            else{            
                // description: اگر آرایه ی کاربر لاگین خالی باشد، از صفحه ی وارد شده سریع خارج شده و صفحه ی لاگین را نمایش می دهد
                window.location.href = "./loginForm.html";
                window.return(null);  // description: این خط برای جلوگیری از اجرای ادامه کد این صفحه بعد از ریدایرکت به صفحه اصلی نوشته شده است
            }

            ///////////////////////////

            ///////////////////////////

            // description: ایجاد لینک خروج کنار نام کاربر در بالای صفحه
            const exitLink = document.createElement("a");
            exitLink.innerHTML = "خروج";
            parentWelcomeMessage.appendChild(exitLink);
            exitLink.style.cursor = "pointer";
            exitLink.classList = "link-danger link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover";
            exitLink.style.marginRight = "1%";
            
            // description: این تابع برای خارج شدن کاربر از حالت لاگین و ریدایرکت به صفحه ی لاگین هنگام کلیک روی لینک خروج ایجاد شده می باشد
            exitLink.addEventListener("click", function(event) {
                event.preventDefault(); // جلوگیری از عملکرد پیش‌فرض (باز کردن لینک)
                loginUser.length = 0;
                // description: کد زیر آرایه ی آخرین کاربر ثبت نام کرده یا وارد شده را در یک آرایه سراسری کپی می کند
                localStorage.setItem('globalLoginUser', JSON.stringify(loginUser));

                window.location.href = "./loginForm.html";
            });

            ///////////////////////////

            // description: کد زیر زمان خروج از صفحه اجرا می شود؛ اگر فیلد بخاطر بسپار عنصر اول آرایه ی کاربر لاگین نادرست باشد، هنگام خروج از صفحه محتوای آرایه ی کاربر لاگین را کاملا پاک می کند
            function exitPage(){
                if(loginUser[0].rememberme == false){
                    if(totalDuration > 1800000){ // description: درصورت تیک نداشتن بخاطر داشته باش، اگر میزان ماندگاری در سایت بالاتر از نیم ساعت شد، متغیر لاگین یوزر را هنگام خروج از صفحه خالی کند که کاربر از سایت بصورت خودکار خروج پیدا کند
                        loginUser.length = 0;
                        // description: کد زیر آرایه ی آخرین کاربر ثبت نام کرده یا وارد شده را در یک آرایه سراسری کپی می کند
                        localStorage.setItem('globalLoginUser', JSON.stringify(loginUser));
                        totalDuration = 0;
                        localStorage.setItem('totalDuration',JSON.stringify(totalDuration))
                    }
                }
            }

            ///////////////////////////

            // description: دریافت آرایه های سراسری و قرار دادن در آرایه های محلی مربوطه برای استفاده در این صفحه
            const books = JSON.parse(localStorage.getItem('globalBooks'));
            const favoriteBooks = JSON.parse(localStorage.getItem('globalFavoriteBooks'));
            const readingBooks = JSON.parse(localStorage.getItem('globalReadingBooks'));
            const readBooks = JSON.parse(localStorage.getItem('globalaReadBooks'));
            const challengeBooks = JSON.parse(localStorage.getItem("globalaChallengeBooks"));

            // description: دریافت اندیس بعد از آخرین آرگومان هر آرایه و قرار دادن در متغیرهای محلی برای استفاده در این صفحه
            const indexReadingBook = JSON.parse(localStorage.getItem('globalIndexReadingBook'));
            const indexReadBook = JSON.parse(localStorage.getItem('globalIndexReadBook'));
            const indexFavoriteBook = JSON.parse(localStorage.getItem('globalIndexFavoriteBook'));    

            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////  

            // description: چاپ کتاب های در حال مطالعه
            if(readingBooks.length > 0){                
                let i1 = 0;
                let conterCol1 = 0; //description: این شمارنده برای ایجاد سطر جدید درصورت سه ستونه شدن سطر قبلی بکار میرود
                while(readingBooks[i1]){
                    let j1 = 0;
                    while(books[j1]){
                        if(readingBooks[i1] == books[j1].id){

                            // description: قرار دادن تگ دیو ستون ایجاد شده در تگ دیو سطر اصلی کتاب های در حال مطالعه در صفحه
                            const parent1 = document.getElementById("readingParent");
                            
                            if(conterCol1 == 0){
                                // description: تعریف سطر جداگانه به ازاء هر سه ستون(کتاب)
                                var bookRows1 = document.createElement("div");
                                bookRows1.classList = "row card-body";
                                parent1.appendChild(bookRows1);
                            }
                            conterCol1 += 1;
                            if(conterCol1 > 2){
                                conterCol1 = 0;
                            }

                            // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های در حال مطالعه در صفحه
                            const bookDivCol1 = document.createElement("div");
                            // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                            bookDivCol1.classList = "col p-3 border border-4 border-success rounded";
                            bookDivCol1.style.backgroundColor = "white";
                            bookDivCol1.style.marginLeft = "1%";
                            bookDivCol1.style.marginRight = "1%";
                            bookRows1.appendChild(bookDivCol1);

                            
                            // description: تعریف یک تگ دیو سطر برای قرار گرفتن دو ستون اطلاعات و تصویر کتاب در آن 
                            const bookDivRow1 = document.createElement("div");
                            // description: کلاس دهی به تگ دیو سطر ایجاد شده
                            bookDivRow1.classList = "row";
                            // description: قرار دادن تگ دیو سطر ایجاد شده در تگ دیو ستون والد که در چند سطر قبل تعریف شد
                            bookDivCol1.appendChild(bookDivRow1);

                            // description: تعریف دو تگ دیو جداگانه برای قرار دادن اطلاعات کتاب و تصویر کتاب در آن ها
                            const bookDivInfo1 = document.createElement("div");
                            const bookDivImg1 = document.createElement("div");
                            // description: کلاس دهی به دو تگ دیو ایجاد شده برای اطلاعات و تصویر کتاب
                            bookDivInfo1.classList = "col";
                            bookDivImg1.classList = "col bookDivImg"; //description: کلاس دومی برای استایل دهی در فایل سی اس اس استفاده می شود
                            // description: قرار دادن دو تگ دیو اطلاعات و تصویر در تگ دیو سطر والد تعریف شده در چند خط قبلی
                            bookDivRow1.appendChild(bookDivInfo1);
                            bookDivRow1.appendChild(bookDivImg1);

                            // description: ایجاد عناصر مورد نیاز در دیو ایجاد شده برای نمایش اطلاعات کتاب
                            const subjectLabel1 = document.createElement("label");
                            const authorlabel1 = document.createElement("label");
                            const imgBook1 = document.createElement("img");
                            // description: استایل دهی به عناصر ایجاد شده در دیو مربوط به نمایش کتاب
                            subjectLabel1.classList = "text-primary";
                            authorlabel1.classList = "text-success";
                            // description: مقداردهی به دو لیبل مربوط به عنوان کتاب و نویسنده طبق آرایه مربوطه
                            subjectLabel1.innerHTML = books[j1].name;
                            authorlabel1.innerHTML = books[j1].author;
                            imgBook1.src = books[j1].src;
                            imgBook1.style.cursor = "pointer"; // description: تغییر نشانگر ماوس هنگام رفتن روی تصویر کتاب
                            imgBook1.onclick = function() {
                                window.location.href = books[j1].href; // description: هنگام کلیک روی تصویر کتاب، فایل کتاب مورد نظر باز می شود
                            };
                            imgBook1.className = "imgBook"; //description: برای امکان استایل دهی در فایل سی اس اس این کلاس تعریف شد

                            // description: ایجاد دو متن عنوان و نویسنده برای قرار دادن در دیو مربوط به کتاب
                            const subjectText1 = document.createTextNode("عنوان: ");
                            const authorText1 = document.createTextNode("نویسنده: ");
                            // description: ایجاد خط خالی برای استفاده در دیو مربوط به کتاب
                            const emptyLine2 = document.createElement("br");

                            // description: قرار دادن عناصر مربوط به اطلاعات کتاب در تگ های دیو مربوطه
                            bookDivInfo1.appendChild(subjectText1);
                            bookDivInfo1.appendChild(subjectLabel1);
                            bookDivInfo1.appendChild(emptyLine2);
                            bookDivInfo1.appendChild(authorText1);
                            bookDivInfo1.appendChild(authorlabel1);
                            bookDivImg1.appendChild(imgBook1);

                            break;
                        }
                        j1 += 1 ;
                    }
                    i1 += 1;
                }

                if (window.innerWidth >= 1440) { //description: فقط برای این عرض به بالا اعمال زیر انجام می شود
                    // description: شرط زیر برای تنظیم ترازبندی و اندازه ی باکس کتاب های چاپ شده طراحی شده است
                    // -description: اگر در یک سطر فقط یک کتاب چاپ شده باشد، دو ستون خالی به آن سطر اضافه می کند
                    // -description: اگر در یک سطر فقط دو کتاب چاپ شده باشد، یک ستون خالی به آن سطر اضافه می کند
                    if(conterCol1 == 1){
                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های در حال مطالعه در صفحه
                        const additionalCol1 = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol1.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol1.style.marginLeft = "1%";
                        additionalCol1.style.marginRight = "1%";
                        bookRows1.appendChild(additionalCol1);

                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های در حال مطالعه در صفحه
                        const additionalCol2 = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol2.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol2.style.backgroundColor = "white";
                        additionalCol2.style.marginLeft = "1%";
                        additionalCol2.style.marginRight = "1%";
                        bookRows1.appendChild(additionalCol2);
                    }
                    else if(conterCol1 == 2){
                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های در حال مطالعه در صفحه
                        const additionalCol = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol.style.backgroundColor = "white";
                        additionalCol.style.marginLeft = "1%";
                        additionalCol.style.marginRight = "1%";
                        bookRows1.appendChild(additionalCol);
                    }
                }
            }

            // description: چاپ کتاب های خوانده شده
            if(readBooks.length > 0){             
                let i2 = 0;
                let conterCol2 = 0; //description: این شمارنده برای ایجاد سطر جدید درصورت سه ستونه شدن سطر قبلی بکار میرود
                while(readBooks[i2]){
                    let j2 = 0;
                    while(books[j2]){
                        if(readBooks[i2] == books[j2].id){

                            // description: قرار دادن تگ دیو ستون ایجاد شده در تگ دیو سطر اصلی کتاب های در حال مطالعه در صفحه
                            const parent2 = document.getElementById("readParent");
                            
                            if(conterCol2 == 0){
                                // description: تعریف سطر جداگانه به ازاء هر سه ستون(کتاب)
                                var bookRows2 = document.createElement("div");
                                bookRows2.classList = "row card-body";
                                parent2.appendChild(bookRows2);
                            }
                            conterCol2 += 1;
                            if(conterCol2 > 2){
                                conterCol2 = 0;
                            }

                            // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های خوانده شده در صفحه
                            const bookDivCol2 = document.createElement("div");
                            // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                            bookDivCol2.classList = "col p-3 border border-4 border-secondary rounded";
                            bookDivCol2.style.backgroundColor = "white";
                            bookDivCol2.style.marginLeft = "1%";
                            bookDivCol2.style.marginRight = "1%";
                            // bookDivCol1.style.width = "30%";
                            bookRows2.appendChild(bookDivCol2);

                            
                            // description: تعریف یک تگ دیو سطر برای قرار گرفتن دو ستون اطلاعات و تصویر کتاب در آن 
                            const bookDivRow2 = document.createElement("div");
                            // description: کلاس دهی به تگ دیو سطر ایجاد شده
                            bookDivRow2.classList = "row";
                            // description: قرار دادن تگ دیو سطر ایجاد شده در تگ دیو ستون والد که در چند سطر قبل تعریف شد
                            bookDivCol2.appendChild(bookDivRow2);

                            // description: تعریف دو تگ دیو جداگانه برای قرار دادن اطلاعات کتاب و تصویر کتاب در آن ها
                            const bookDivInfo2 = document.createElement("div");
                            const bookDivImg2 = document.createElement("div");
                            // description: کلاس دهی به دو تگ دیو ایجاد شده برای اطلاعات و تصویر کتاب
                            bookDivInfo2.classList = "col";
                            bookDivImg2.classList = "col bookDivImg"; //description: کلاس دومی برای استایل دهی در فایل سی اس اس استفاده می شود
                            // description: قرار دادن دو تگ دیو اطلاعات و تصویر در تگ دیو سطر والد تعریف شده در چند خط قبلی
                            bookDivRow2.appendChild(bookDivInfo2);
                            bookDivRow2.appendChild(bookDivImg2);

                            // description: ایجاد عناصر مورد نیاز در دیو ایجاد شده برای نمایش اطلاعات کتاب
                            const subjectLabel2 = document.createElement("label");
                            const authorlabel2 = document.createElement("label");
                            const imgBook2 = document.createElement("img");
                            imgBook2.className = "imgBook"; //description: برای امکان استایل دهی در فایل سی اس اس این کلاس تعریف شد

                            // description: استایل دهی به عناصر ایجاد شده در دیو مربوط به نمایش کتاب
                            subjectLabel2.classList = "text-primary";
                            authorlabel2.classList = "text-success";
                            // description: مقداردهی به دو لیبل مربوط به عنوان کتاب و نویسنده طبق آرایه مربوطه
                            subjectLabel2.innerHTML = books[j2].name;
                            authorlabel2.innerHTML = books[j2].author;
                            imgBook2.src = books[j2].src;
                            imgBook2.style.cursor = "pointer"; // description: تغییر نشانگر ماوس هنگام رفتن روی تصویر کتاب
                            imgBook2.onclick = function() {
                                window.location.href = books[j2].href; // description: هنگام کلیک روی تصویر کتاب، فایل کتاب مورد نظر باز می شود
                            };

                            // description: ایجاد دو متن عنوان و نویسنده برای قرار دادن در دیو مربوط به کتاب
                            const subjectText2 = document.createTextNode("عنوان: ");
                            const authorText2 = document.createTextNode("نویسنده: ");
                            // description: ایجاد خط خالی برای استفاده در دیو مربوط به کتاب
                            const emptyLine4 = document.createElement("br");

                            // description: قرار دادن عناصر مربوط به اطلاعات کتاب در تگ های دیو مربوطه
                            bookDivInfo2.appendChild(subjectText2);
                            bookDivInfo2.appendChild(subjectLabel2);
                            bookDivInfo2.appendChild(emptyLine4);
                            bookDivInfo2.appendChild(authorText2);
                            bookDivInfo2.appendChild(authorlabel2);
                            bookDivImg2.appendChild(imgBook2);

                            break;
                        }
                        j2 += 1 ;
                    }
                    i2 += 1;
                }

                if (window.innerWidth >= 1440) { //description: فقط برای این عرض به بالا اعمال زیر انجام می شود
                    // description: شرط زیر برای تنظیم ترازبندی و اندازه ی باکس کتاب های چاپ شده طراحی شده است
                    // -description: اگر در یک سطر فقط یک کتاب چاپ شده باشد، دو ستون خالی به آن سطر اضافه می کند
                    // -description: اگر در یک سطر فقط دو کتاب چاپ شده باشد، یک ستون خالی به آن سطر اضافه می کند
                    if(conterCol2 == 1){
                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های خوانده شده در صفحه
                        const additionalCol1 = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol1.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol1.style.marginLeft = "1%";
                        additionalCol1.style.marginRight = "1%";
                        bookRows2.appendChild(additionalCol1);

                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های خوانده شده در صفحه
                        const additionalCol2 = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol2.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol2.style.backgroundColor = "white";
                        additionalCol2.style.marginLeft = "1%";
                        additionalCol2.style.marginRight = "1%";
                        bookRows2.appendChild(additionalCol2);
                    }
                    else if(conterCol2 == 2){
                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های خوانده شده در صفحه
                        const additionalCol = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol.style.backgroundColor = "white";
                        additionalCol.style.marginLeft = "1%";
                        additionalCol.style.marginRight = "1%";
                        bookRows2.appendChild(additionalCol);
                    }
                }
            }        

            // description: چاپ کتاب های مورد علاقه
            if(favoriteBooks.length > 0){
                let i3 = 0;
                let conterCol3 = 0; //description: این شمارنده برای ایجاد سطر جدید درصورت سه ستونه شدن سطر قبلی بکار میرود
                while(favoriteBooks[i3]){
                    let j3 = 0;
                    while(books[j3]){
                        if(favoriteBooks[i3] == books[j3].id){

                            // description: قرار دادن تگ دیو ستون ایجاد شده در تگ دیو سطر اصلی کتاب های مورد علاقه در صفحه
                            const parent3 = document.getElementById("favoriteParent");
                            
                            if(conterCol3 == 0){
                                // description: تعریف سطر جداگانه به ازاء هر سه ستون(کتاب)
                                var bookRows3 = document.createElement("div");
                                bookRows3.classList = "row card-body";
                                parent3.appendChild(bookRows3);
                            }
                            conterCol3 += 1;
                            if(conterCol3 > 2){
                                conterCol3 = 0;
                            }

                            // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های در حال مطالعه در صفحه
                            const bookDivCol3 = document.createElement("div");
                            // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                            bookDivCol3.classList = "col p-3 border border-4 border-danger rounded";
                            bookDivCol3.style.backgroundColor = "white";
                            bookDivCol3.style.marginLeft = "1%";
                            bookDivCol3.style.marginRight = "1%";
                            // bookDivCol1.style.width = "30%";
                            bookRows3.appendChild(bookDivCol3);

                            
                            // description: تعریف یک تگ دیو سطر برای قرار گرفتن دو ستون اطلاعات و تصویر کتاب در آن 
                            const bookDivRow3 = document.createElement("div");
                            // description: کلاس دهی به تگ دیو سطر ایجاد شده
                            bookDivRow3.classList = "row";
                            // description: قرار دادن تگ دیو سطر ایجاد شده در تگ دیو ستون والد که در چند سطر قبل تعریف شد
                            bookDivCol3.appendChild(bookDivRow3);

                            // description: تعریف دو تگ دیو جداگانه برای قرار دادن اطلاعات کتاب و تصویر کتاب در آن ها
                            const bookDivInfo3 = document.createElement("div");
                            const bookDivImg3 = document.createElement("div");
                            // description: کلاس دهی به دو تگ دیو ایجاد شده برای اطلاعات و تصویر کتاب
                            bookDivInfo3.classList = "col";
                            bookDivImg3.classList = "col bookDivImg"; //description: کلاس دومی برای استایل دهی در فایل سی اس اس استفاده می شود
                            // description: قرار دادن دو تگ دیو اطلاعات و تصویر در تگ دیو سطر والد تعریف شده در چند خط قبلی
                            bookDivRow3.appendChild(bookDivInfo3);
                            bookDivRow3.appendChild(bookDivImg3);

                            // description: ایجاد عناصر مورد نیاز در دیو ایجاد شده برای نمایش اطلاعات کتاب
                            const subjectLabel3 = document.createElement("label");
                            const authorlabel3 = document.createElement("label");
                            const imgBook3 = document.createElement("img");
                            imgBook3.className = "imgBook"; //description: برای امکان استایل دهی در فایل سی اس اس این کلاس تعریف شد

                            // description: استایل دهی به عناصر ایجاد شده در دیو مربوط به نمایش کتاب
                            subjectLabel3.classList = "text-primary";
                            authorlabel3.classList = "text-success";
                            // description: مقداردهی به دو لیبل مربوط به عنوان کتاب و نویسنده طبق آرایه مربوطه
                            subjectLabel3.innerHTML = books[j3].name;
                            authorlabel3.innerHTML = books[j3].author;
                            imgBook3.src = books[j3].src;
                            imgBook3.style.cursor = "pointer"; // description: تغییر نشانگر ماوس هنگام رفتن روی تصویر کتاب
                            imgBook3.onclick = function() {
                                window.location.href = books[j3].href; // description: هنگام کلیک روی تصویر کتاب، فایل کتاب مورد نظر باز می شود
                            };

                            // description: ایجاد دو متن عنوان و نویسنده برای قرار دادن در دیو مربوط به کتاب
                            const subjectText3 = document.createTextNode("عنوان: ");
                            const authorText3 = document.createTextNode("نویسنده: ");
                            // description: ایجاد خط خالی برای استفاده در دیو مربوط به کتاب
                            const emptyLine6 = document.createElement("br");

                            // description: قرار دادن عناصر مربوط به اطلاعات کتاب در تگ های دیو مربوطه
                            bookDivInfo3.appendChild(subjectText3);
                            bookDivInfo3.appendChild(subjectLabel3);
                            bookDivInfo3.appendChild(emptyLine6);
                            bookDivInfo3.appendChild(authorText3);
                            bookDivInfo3.appendChild(authorlabel3);
                            bookDivImg3.appendChild(imgBook3);

                            break;
                        }
                        j3 += 1 ;
                    }
                    i3 += 1;
                }

                if (window.innerWidth >= 1440) { //description: فقط برای این عرض به بالا اعمال زیر انجام می شود
                    // description: شرط زیر برای تنظیم ترازبندی و اندازه ی باکس کتاب های چاپ شده طراحی شده است
                    // -description: اگر در یک سطر فقط یک کتاب چاپ شده باشد، دو ستون خالی به آن سطر اضافه می کند
                    // -description: اگر در یک سطر فقط دو کتاب چاپ شده باشد، یک ستون خالی به آن سطر اضافه می کند
                    if(conterCol3 == 1){
                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های مورد علاقه در صفحه
                        const additionalCol1 = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol1.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol1.style.marginLeft = "1%";
                        additionalCol1.style.marginRight = "1%";
                        bookRows3.appendChild(additionalCol1);

                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های مورد علاقه در صفحه
                        const additionalCol2 = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol2.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol2.style.backgroundColor = "white";
                        additionalCol2.style.marginLeft = "1%";
                        additionalCol2.style.marginRight = "1%";
                        bookRows3.appendChild(additionalCol2);
                    }
                    else if(conterCol3 == 2){
                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های مورد علاقه در صفحه
                        const additionalCol = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol.style.backgroundColor = "white";
                        additionalCol.style.marginLeft = "1%";
                        additionalCol.style.marginRight = "1%";
                        bookRows3.appendChild(additionalCol);
                    }
                }
            }


            // description: کپی از آرایه های فرعی در آرایه های سراسری برای امکان دسترسی در صفحات دیگر
            localStorage.setItem('globalFavoriteBooks', JSON.stringify(favoriteBooks));
            localStorage.setItem('globalReadingBooks', JSON.stringify(readingBooks));
            localStorage.setItem('globalaReadBooks', JSON.stringify(readBooks));
            
            // description: کپی از مکان بعد از آخرین آرگومان هر آرایه در متغیرهای سراسری برای امکان دسترسی در صفحات دیگر
            localStorage.setItem('globalIndexReadingBook', JSON.stringify(indexReadingBook));
            localStorage.setItem('globalIndexReadBook', JSON.stringify(indexReadBook));
            localStorage.setItem('globalIndexFavoriteBook', JSON.stringify(indexFavoriteBook));


    //*********************************شروع کدهای اختصاصی چالش کتاب******************************************************
            // نمایش کتاب هایی که در آرایه ی چالش نیستند در لیست باکس
            //description: تکه کد زیر برای نمایش کتاب هایی که در آرایه چالش نیستند در لیست باکس بخش چالش کتاب است        
            let i = 0;
            while(books[i]){
                let stateChallenge = false;
                let j = 0;
                while(challengeBooks[j]){
                    if(books[i].id == challengeBooks[j].id){
                        stateChallenge = true;
                        break;
                    }
                    j += 1;
                }
                if(stateChallenge == false){
                    var selectBox = document.getElementById("bookChallenge");
                    var newOption = document.createElement("option"); // ایجاد یک عنصر جدید
                    newOption.text = books[i].name; // تنظیم متن برای گزینه جدید
                    newOption.value = books[i].id; // تنظیم مقدار برای گزینه جدید
                    selectBox.add(newOption); // افزودن گزینه جدید به لیست باکس
                }
                i += 1;
            }

            
            // اضافه کردن کتاب به آرایه چالش
            //description: تابع اضافه کردن کتاب انتخاب شده در آرایه ی کتاب های چالش مطالعه
            let indexChallengeBook = 0;
            let counterChallengeBook = 0;
            function addToChallenge(){
                //description: شرط زیر برای پاک کردن کتاب های آرایه چالش که از قبل در صفحه چاپ شده قرار داده شده
                if(counterChallengeBook > 0){
                    document.getElementById('challengeParent').innerHTML = '';
                }
                const idBookChalleng = document.querySelector('#bookChallenge').value; //description: دریافت آی دی کتاب انتخاب شده برای چالش مطالعه
                const receivedPurposeNumber = Number(document.getElementById("EnteredPurposeNumber").value); //description: دریافت تعداد صفحه مطالعه در ماه که توسط کاربر وارد شده
                if(idBookChalleng == "00" || isNaN(receivedPurposeNumber) || receivedPurposeNumber == "")
                    alert("لطفاً مقادیر را بصورت صحیح وارد نمایید.");
                else{
                    challengeBooks.push({"id": idBookChalleng, "purposeNumber": receivedPurposeNumber, "readNumber": 0, "remainderNumber": receivedPurposeNumber}); //description: وارد کردن آی دی کتاب مورد چالش، تعداد صفحه مورد مطالعه در ماه، تعداد صفحات مطالعه شده، و تعداد صفحات باقیمانده در آرایه کتاب های مورد چالش
                    indexChallengeBook += 1;
                    counterChallengeBook += 1;
                    var selectBox = document.getElementById("bookChallenge"); //***************************************
                    selectBox.remove(selectBox.selectedIndex); // حذف مورد اضافه شده به آرایه ی چالش از لیست باکس
                }
                location.reload(); //description: چون چاپ کتاب های مورد چالش در قسمت لود صفحه قرار گرفته، بعد از افزودن یک کتاب به کتاب های چالش باید صفحه یکبار لود شود که این کتاب هم کنار بقیه کتاب های چالش نمایش داده شود
                
                // description: قرار دادن آرایه کتاب های مورد چالش در یک آرایه سراسری
                localStorage.setItem('globalaChallengeBooks', JSON.stringify(challengeBooks));    
            }


            // چاپ کتاب های چالش در صفحه
            const emptyLine7 = document.createElement("br");
            const divChallengeTitle = document.getElementById("challengeParent");
            // description: چاپ کتاب های مورد چالش
            if(challengeBooks.length > 0){
                let i4 = 0;
                let conterCol4 = 0; //description: این شمارنده برای ایجاد سطر جدید درصورت سه ستونه شدن سطر قبلی بکار میرود
                while(challengeBooks[i4]){
                    let j4 = 0;
                    while(books[j4]){
                        if(challengeBooks[i4].id == books[j4].id){

                            // description: قرار دادن تگ دیو ستون ایجاد شده در تگ دیو سطر اصلی کتاب های مورد علاقه در صفحه
                            const parent4 = document.getElementById("challengeParent");
                            
                            if(conterCol4 == 0){
                                divChallengeTitle.appendChild(emptyLine7);
                                // description: تعریف سطر جداگانه به ازاء هر دو ستون(کتاب)
                                var bookRows4 = document.createElement("div");
                                bookRows4.classList = "row card-body";
                                parent4.appendChild(bookRows4);
                            }
                            conterCol4 += 1;
                            if(conterCol4 > 2){
                                conterCol4 = 0;
                            }

                            // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های در حال مطالعه در صفحه
                            const bookDivCol4 = document.createElement("div");
                            // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                            bookDivCol4.classList = "col p-3 border border-4 border-info rounded";
                            bookDivCol4.style.backgroundColor = "white";
                            bookDivCol4.style.marginLeft = "1%";
                            bookDivCol4.style.marginRight = "1%";
                            // bookDivCol1.style.width = "30%";
                            bookRows4.appendChild(bookDivCol4);

                            
                            // description: تعریف یک تگ دیو سطر برای قرار گرفتن دو ستون اطلاعات و تصویر کتاب در آن 
                            const bookDivRow4 = document.createElement("div");
                            // description: کلاس دهی به تگ دیو سطر ایجاد شده
                            bookDivRow4.classList = "row";
                            // description: قرار دادن تگ دیو سطر ایجاد شده در تگ دیو ستون والد که در چند سطر قبل تعریف شد
                            bookDivCol4.appendChild(bookDivRow4);

                            // description: تعریف دو تگ دیو جداگانه برای قرار دادن اطلاعات کتاب و تصویر کتاب در آن ها
                            const bookDivInfo4 = document.createElement("div");
                            const bookDivImg4 = document.createElement("div");
                            // description: کلاس دهی به دو تگ دیو ایجاد شده برای اطلاعات و تصویر کتاب
                            bookDivInfo4.classList = "col";
                            bookDivImg4.classList = "col d-flex justify-content-end";
                            // description: قرار دادن دو تگ دیو اطلاعات و تصویر در تگ دیو سطر والد تعریف شده در چند خط قبلی
                            bookDivRow4.appendChild(bookDivInfo4);
                            bookDivRow4.appendChild(bookDivImg4);

                            // description: ایجاد عناصر مورد نیاز در دیو ایجاد شده برای نمایش اطلاعات کتاب
                            const subjectLabel4 = document.createElement("label");
                            const authorlabel4 = document.createElement("label");
                            const imgBook4 = document.createElement("img");
                            imgBook4.className = "imgBook"; //description: برای امکان استایل دهی در فایل سی اس اس این کلاس تعریف شد

                            //description: ایجاد دو دیو والد و فرزند برای نمایش نوار پیشرفت مطالعه و قرار دادن دیو فرزند در دیو والد
                            const progressReadParent = document.createElement("div");
                            const progressRead = document.createElement("div");
                            progressReadParent.appendChild(progressRead); 
                            //description: تعریف یک کادر متن برای ثبت تعداد صفحات خوانده شده و یک دکمه برای ثبت در آرایه چالش کتاب
                            const readNumberInput = document.createElement("input");
                            const readNumberButton = document.createElement("input");
                            //description: ایجاد یک دکمه برای امکان حذف کتاب از آرایه ی چالش
                            const removeButton = document.createElement("input");

                            // description: استایل دهی به عناصر ایجاد شده در دیو مربوط به نمایش کتاب
                            subjectLabel4.classList = "text-primary";
                            authorlabel4.classList = "text-success";
                            // description: استایل دهی به دیوهای والد و فرزند مربوط به نوار پیشرفت مطالعه
                            progressReadParent.classList = "progress mt-4 w-100";
                            progressRead.classList ="progress progress-bar bg-info";
                            //description: استایل دهی به کادر متن و دکمه مربوط به تعیین تعداد صفحات خوانده شده
                            readNumberInput.classList = "form-control mt-2 w-100";
                            readNumberButton.classList = "btn btn-success mt-2 w-100";
                            //description: استایل دهی به دکمه حذف کتاب از آرایه چالش
                            removeButton.classList = "btn btn-danger mt-2 w-100";

                            // description: مقداردهی به دو لیبل مربوط به عنوان کتاب و نویسنده طبق آرایه مربوطه
                            subjectLabel4.innerHTML = books[j4].name;
                            authorlabel4.innerHTML = books[j4].author;
                            imgBook4.src = books[j4].src;
                            imgBook4.style.cursor = "pointer"; // description: تغییر نشانگر ماوس هنگام رفتن روی تصویر کتاب
                            imgBook4.onclick = function() {
                                window.location.href = books[j4].href; // description: هنگام کلیک روی تصویر کتاب، فایل کتاب مورد نظر باز می شود
                            };

                            //description: محاسبه ی تعداد صفحات خوانده شده نسبت به تعداد صفحات تعیین شده در ماه به درصد و قرار دادن در یک متغیر
                            var percentage = (challengeBooks[i4].readNumber / challengeBooks[i4].purposeNumber) * 100;
                            //description: مقداردهی به نوار پیشرفت مطالعه جهت نمایش دادن در صفحه
                            progressRead.attributes.ariaValueNow = percentage + '%';  //*********************
                            progressRead.style.width = percentage + '%'; //***********************
                            //description: تعیین عنوان کادر متن صفحات خوانده شده و دکمه ثبت
                            readNumberInput.placeholder = "تعداد صفحات خوانده شده";
                            readNumberButton.value = "ثبت صفحات";
                            //description: تعیین عنوان دکمه حذف کتاب
                            removeButton.value = "حذف کتاب";
                            //description: مقدار دهی به آی دی کادر متن صفحات خوانده شده و دکمه ثبت مربوط به آن متناسب با آی دی کتاب مربوطه در آرایه چالش
                            readNumberInput.id = "t" + String(challengeBooks[i4].id);
                            readNumberButton.id = "b" + String(challengeBooks[i4].id);
                            //description: مقدار دهی به آی دی دکمه حذف کتاب متناسب با آی دی کتاب مربوطه در آرایه چالش
                            removeButton.id = "r" + String(challengeBooks[i4].id);
                            //description: مشخص کردن یک تابع برای رویداد آنکلیک دکمه ثبت تعداد صفحات خوانده شده
                            readNumberButton.setAttribute('onclick', "readNumberRegister(event)");
                            removeButton.setAttribute('onclick', "removeChallengeBook(event)");

                            // description: ایجاد دو متن عنوان و نویسنده برای قرار دادن در دیو مربوط به کتاب
                            const subjectText4 = document.createTextNode("عنوان: ");
                            const authorText4 = document.createTextNode("نویسنده: ");
                            // description: ایجاد خط خالی برای استفاده در دیو مربوط به کتاب
                            const emptyLine8 = document.createElement("br");
                            const emptyLine9 = document.createElement("br");

                            // description: قرار دادن عناصر مربوط به اطلاعات کتاب در تگ های دیو مربوطه
                            bookDivInfo4.appendChild(subjectText4);
                            bookDivInfo4.appendChild(subjectLabel4);
                            bookDivInfo4.appendChild(emptyLine8);
                            bookDivInfo4.appendChild(authorText4);
                            bookDivInfo4.appendChild(authorlabel4);
                            bookDivInfo4.appendChild(emptyLine9);
                            bookDivInfo4.appendChild(progressReadParent);
                            bookDivInfo4.appendChild(readNumberInput);
                            bookDivInfo4.appendChild(readNumberButton);
                            bookDivInfo4.appendChild(removeButton);
                            bookDivImg4.appendChild(imgBook4);

                            // description: تکه کد زیر برای فشار داده شدن پیش فرض دکمه ی ثبت صفحات با فشار دادن کلید اینتر صفحه کلید نوشته شده است
                            readNumberInput.addEventListener('keydown', function(event) {
                                // بررسی اینکه آیا کلید اینتر فشار داده شده است
                                if (event.key === 'Enter') {
                                    readNumberButton.click();
                                }
                            });

                            break;
                        }
                        j4 += 1 ;
                    }
                    i4 += 1;
                }

                if (window.innerWidth >= 1440) { //description: فقط برای این عرض به بالا اعمال زیر انجام می شود
                    // description: شرط زیر برای تنظیم ترازبندی و اندازه ی باکس کتاب های چاپ شده طراحی شده است
                    // -description: اگر در یک سطر فقط یک کتاب چاپ شده باشد، دو ستون خالی به آن سطر اضافه می کند
                    // -description: اگر در یک سطر فقط دو کتاب چاپ شده باشد، یک ستون خالی به آن سطر اضافه می کند
                    if(conterCol4 == 1){
                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های خوانده شده در صفحه
                        const additionalCol1 = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol1.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol1.style.marginLeft = "1%";
                        additionalCol1.style.marginRight = "1%";
                        bookRows4.appendChild(additionalCol1);

                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های خوانده شده در صفحه
                        const additionalCol2 = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol2.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol2.style.backgroundColor = "white";
                        additionalCol2.style.marginLeft = "1%";
                        additionalCol2.style.marginRight = "1%";
                        bookRows4.appendChild(additionalCol2);
                    }
                    else if(conterCol4 == 2){
                        // description: تعریف یک تگ دیو ستون برای قرار دادن در تگ دیو(سطر) اصلی کتاب های خوانده شده در صفحه
                        const additionalCol = document.createElement("div");
                        // description: استایل دهی و کلاس دهی به تگ دیو ستون ایجاد شده
                        additionalCol.classList = "col p-3 border border-4 border-white rounded";
                        additionalCol.style.backgroundColor = "white";
                        additionalCol.style.marginLeft = "1%";
                        additionalCol.style.marginRight = "1%";
                        bookRows4.appendChild(additionalCol);
                    }
                }
            }


            //description: تابع ثبت تعداد صفحات خوانده شده در ماه در آرایه چالش کتاب
            function readNumberRegister(event){
                //description: قرار دادن آی دی دکمه ثبت فشار داده شده در یک متغیر
                var buttonReadNumberId = event.target.id;
                //description: تبدیل کاراکترهای آی دی دکمه ثبت فشار داده شده به یک آرایه برای جدا کردن کاراکترها از یکدیگر
                var idButtonCharacters = buttonReadNumberId.split('');
                //description: تعیین آی دی کادر متن مرتبط با دکمه ی فشار داده شده توسط کاراکتر دوم یا درواقع شماره ی آی دی دکمه ی فشار داده شده
                var textBoxReadNumberId = "t" + idButtonCharacters[1];
                //description: پیدا کردن کادر متن مربوط به دکمه ی فشار داده شده توسط آی دی کادر متن
                const readNumberInput = document.getElementById(textBoxReadNumberId);
                
                //description: اگر کادر متن تعداد صفحات عدد نبود یا خالی بود خطا بدهد
                if(isNaN(readNumberInput.value) || readNumberInput.value == "")
                    alert("لطفاً مقدار را بصورت صحیح وارد کنید");
                else{
                    let i = 0;
                    while(challengeBooks[i]){ // description: آرایه چالش را از اولین عنصر میگردد
                        if(challengeBooks[i].id == idButtonCharacters[1]){ //description: هر وقت آی دی عنصر آرایه مطابق با کاراکتر دوم آی دی دکمه فشار داده شده بود اعمال زیر انجام شود
                            if(readNumberInput.value > challengeBooks[i].purposeNumber)
                                alert("مقدار وارد شده بیشتر از تعداد صفحه مورد هدف در ماه است!");
                            else
                                challengeBooks[i].readNumber = Number(challengeBooks[i].readNumber) + Number(readNumberInput.value); //descripion: مقدار کادر متن تعداد صفحات خوانده شده را با مقدار قبلی که در فیلد آرایه وجود دارد جمع می کند و نتیجه را در فیلد تعداد صفحات خوانده شده عنصر پیدا شده در آرایه ی چالش قرار می دهد
                            break;
                        }
                        i += 1;
                    }
                }
                localStorage.setItem('globalaChallengeBooks', JSON.stringify(challengeBooks));
                location.reload();
            }


            //description: تابع حذف کتاب از آرایه چالش
            function removeChallengeBook(event){
                //description: قرار دادن آی دی دکمه حذف کتاب فشار داده شده در یک متغیر
                var buttonRemoveId = event.target.id;
                //description: تبدیل کاراکترهای آی دی دکمه حذف کتاب فشار داده شده به یک آرایه برای جدا کردن کاراکترها از یکدیگر
                var idButtonCharacters = buttonRemoveId.split('');
                
                //description: در حلقه ی زیر کتابی که دکمه ی حذف آن فشار داده شده در آرایه ی چالش کتاب جستجو می شود و هرگاه پیدا شد از آرایه حذف شده و جهت نمایش تغییرات جدید، صفحه مجددا ری لود می شود
                let indexRemoveChallengeBook = 0;
                let i = 0;
                while(challengeBooks[i]){
                    if(challengeBooks[i].id == idButtonCharacters[1]){
                        challengeBooks.splice(i, 1);
                        indexRemoveChallengeBook = i;
                        break;
                    }
                    i += 1;
                }
                //description: آرایه ی سراسری چالش، متناسب با تغییرات ایجاد شده در آرایه ی چالش، بروزرسانی می شود
                localStorage.setItem('globalaChallengeBooks', JSON.stringify(challengeBooks));
                location.reload();
            }


            // description: تکه کد زیر برای فشار داده شدن پیش فرض دکمه ی افزودن با فشار دادن کلید اینتر صفحه کلید نوشته شده است
            const EnteredPurposeNumber = document.getElementById('EnteredPurposeNumber');
            const addToChallengeBtn = document.getElementById('addToChallengeBtn');
            EnteredPurposeNumber.addEventListener('keydown', function(event) {
                // بررسی اینکه آیا کلید اینتر فشار داده شده است
                if (event.key === 'Enter') {
                    addToChallengeBtn.click();
                }
            });

        </script>
    </body>
</html>
